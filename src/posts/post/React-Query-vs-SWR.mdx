---
title: "React-Query vs SWR"
date: "2025-03-04"
description: "Next.js í™˜ê²½ì—ì„œì˜ React Queryì™€ SWR ë¹„êµ ë° ì„ íƒ ê°€ì´ë“œ"
thumbnail: /posts/post/React-Query-vs-SWR/thumbnail.jpg
tags: ["react-query", "swr", "nextjs"]
---

# React-Query vs SWR

- [React Query ê³µì‹ ë¬¸ì„œ](https://tanstack.com/query/latest)
- [SWR ê³µì‹ ë¬¸ì„œ](https://swr.vercel.app/ko)

**Next.jsì—ì„œ API ì—°ë™ì„ í•˜ë©´ì„œ** ë¡œë”© ì²˜ë¦¬ë‚˜ ì—ëŸ¬ í•¸ë“¤ë§ì„ íš¨ê³¼ì ìœ¼ë¡œ ë‹¤ë£° ë°©ë²•ì„ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤.
ê·¸ ê³¼ì •ì—ì„œ **React Queryì™€ SWR**ì„ ë¹„êµí•˜ê²Œ ë˜ì—ˆê³ , ìµœì¢…ì ìœ¼ë¡œ **React Queryë¥¼ ì„ íƒ**í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ğŸ‘‰ ì´ë²ˆ ê¸€ì—ì„œëŠ” **React Queryì™€ SWRì˜ ì°¨ì´ì **ì„ ë¹„êµí•˜ê³ , **Next.js í™˜ê²½ì—ì„œ React Queryë¥¼ ì„ íƒí•œ ì´ìœ **ë¥¼ ì •ë¦¬í•´ë³´ê² ìŠµë‹ˆë‹¤.

---

## React Query

### ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

- **ìë™ ìºì‹±** â†’ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì¤„ì´ê³  ì„±ëŠ¥ ìµœì í™”
- **ìë™ ì¬ìš”ì²­** â†’ ë°ì´í„°ê°€ ë³€ê²½ë˜ê±°ë‚˜ ì˜¤ë˜ëœ ê²½ìš° ìµœì‹  ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
- **ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸** â†’ UI ì—…ë°ì´íŠ¸ ì—†ì´ ë°ì´í„° ìµœì‹  ìƒíƒœ ìœ ì§€
- **ë³€ì´ (Mutation) ê¸°ëŠ¥** â†’ ì„œë²„ ë°ì´í„° ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜ ê°€ëŠ¥
- **ê°œë°œì ë„êµ¬ ì§€ì›** â†’ DevToolsë¥¼ í†µí•´ ë°ì´í„° ìƒíƒœë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥

### âš¡ ì¥ì 

- **ê°•ë ¥í•œ ë°ì´í„° ìºì‹±**ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°ì†Œ
- **ë³€ì´ ê¸°ëŠ¥(Mutation)**ì„ í†µí•´ ì„œë²„ ë°ì´í„°ë¥¼ ì‰½ê²Œ ë³€ê²½ ê°€ëŠ¥
- **ìë™í™”ëœ ë°±ê·¸ë¼ìš´ë“œ ìš”ì²­ & ì¬ìš”ì²­** ì§€ì›
- **Next.jsì˜ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ê³¼ ì‰½ê²Œ í†µí•© ê°€ëŠ¥**

### âš ï¸ ë‹¨ì 

- ëŸ¬ë‹ ì»¤ë¸Œê°€ ë¹„êµì  ë†’ìŒ
- ì‘ì€ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì˜¤ë²„í—¤ë“œê°€ ë  ìˆ˜ ìˆìŒ
- ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬ê¸°ê°€ ìƒëŒ€ì ìœ¼ë¡œ í¼ (ì•½ 16.3 KB)

### ì‚¬ìš© ì˜ˆì‹œ

```tsx
import { useQuery, useMutation, QueryClient, QueryClientProvider } from '@tanstack/react-query';

const queryClient = new QueryClient();

const fetchData = async () => {
  const response = await fetch('/api/data');
  return response.json();
};

const MyComponent = () => {
  const { data, error, isLoading } = useQuery(['fetchData'], fetchData);

  if (isLoading) return 'Loading...';
  if (error) return 'An error occurred';

  return <div>{data}</div>;
};

const App = () => (
  <QueryClientProvider client={queryClient}>
    <MyComponent />
  </QueryClientProvider>
);
```

ğŸ’¡ **ìë™ ìºì‹± & ë°ì´í„° ë™ê¸°í™”ê°€ ê°•ë ¥í•œ ì ì´ íŠ¹ì§•**

---

## SWR

### ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

- **ìë™ ìºì‹±** â†’ Stale-While-Revalidate ë°©ì‹ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
- **ìë™ ì¬ìš”ì²­** â†’ ë°ì´í„°ê°€ ì˜¤ë˜ë˜ë©´ ìµœì‹  ë°ì´í„° ê°€ì ¸ì˜´
- **í¬ì»¤ìŠ¤ ì¬ìš”ì²­** â†’ íƒ­ì´ í™œì„±í™”ë  ë•Œë§ˆë‹¤ ìµœì‹  ë°ì´í„° ë¡œë“œ
- **ë¡œì»¬ ë° ê¸€ë¡œë²Œ ë°ì´í„° ê³µìœ ** â†’ ê°™ì€ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ê³³ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
- **ê°œë°œì ë„êµ¬ ì§€ì›** â†’ SWR DevTools ì œê³µ

### âš¡ ì¥ì 

- ê°„ê²°í•˜ê³  ì§ê´€ì ì¸ API
- **Stale-While-Revalidate ì „ëµ**ìœ¼ë¡œ ë¹ ë¥¸ ì‚¬ìš©ì ê²½í—˜ ì œê³µ
- **ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬ê¸°ê°€ ì‘ê³  ê°€ë²¼ì›€** (ì•½ 6.7 KB)
- **Next.jsì™€ ê¸°ë³¸ì ìœ¼ë¡œ ì˜ ì–´ìš¸ë¦¬ëŠ” ë°ì´í„° íŒ¨ì¹­ ë°©ì‹ ì œê³µ**

### âš ï¸ ë‹¨ì 

- **ë³€ì´ ê¸°ëŠ¥(Mutation)**ì´ React Queryë³´ë‹¤ ëœ ê°•ë ¥
- ë³µì¡í•œ ë°ì´í„° ìš”êµ¬ ì‚¬í•­ì´ ìˆëŠ” ê²½ìš° ì¶”ê°€ ì„¤ì •ì´ í•„ìš”

### ì‚¬ìš© ì˜ˆì‹œ

```tsx
import useSWR from 'swr';

const fetcher = async (url) => {
  const response = await fetch(url);
  return response.json();
};

const MyComponent = () => {
  const { data, error } = useSWR('/api/data', fetcher);

  if (!data) return 'Loading...';
  if (error) return 'An error occurred';

  return <div>{data}</div>;
};

const App = () => (
  <MyComponent />
);
```

ğŸ’¡ **Next.jsì™€ ê¸°ë³¸ì ìœ¼ë¡œ ì˜ ë§ì§€ë§Œ, ë³€ì´ ê¸°ëŠ¥ì´ ë¶€ì¡±í•¨**

---

## React Query vs SWR ë¹„êµ ì •ë¦¬

| ê¸°ëŠ¥               | React Query                             | SWR                                 |
|-------------------|------------------------------------------|--------------------------------------|
| **ìºì‹± ì „ëµ**     | **ìë™ ìºì‹± & ë°±ê·¸ë¼ìš´ë“œ ì—…ë°ì´íŠ¸**       | **Stale-While-Revalidate**           |
| **ìë™ ì¬ìš”ì²­**   | âœ… ì§€ì›                                   | âœ… ì§€ì›                               |
| **ë³€ì´ (Mutation)** | âœ… ì§€ì› (ê°•ë ¥í•œ ê¸°ëŠ¥ ì œê³µ)                  | â­• ê¸°ë³¸ ì œê³µ (React Queryë§Œí¼ ê°•ë ¥X)  |
| **ê°œë°œì ë„êµ¬**   | âœ… React Query DevTools                   | âœ… SWR DevTools                       |
| **ëŸ¬ë‹ ì»¤ë¸Œ**     | ğŸ“ˆ ë¹„êµì  ê°€íŒŒë¦„                          | ğŸ“‰ ìƒëŒ€ì ìœ¼ë¡œ ì™„ë§Œí•¨                   |
| **ì‚¬ìš© ì˜ˆì‹œ**     | ë‹¤ì–‘í•œ ê¸°ëŠ¥ê³¼ ë³µì¡í•œ ì„¤ì • ê°€ëŠ¥             | ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ ì‚¬ìš©                |
| **ë°ì´í„° ê³µìœ **   | âœ… ì „ì—­ ìƒíƒœ ê´€ë¦¬ì™€ í†µí•© ìš©ì´             | âœ… ë¡œì»¬ ë° ê¸€ë¡œë²Œ ê³µìœ  ê°€ëŠ¥           |
| **ì„œë²„ ìƒíƒœ ê´€ë¦¬** | âœ… ê°€ëŠ¥ (ë™ê¸°í™” & ë³€ì´ ì§€ì›)                 | â­• ì œí•œì                               |
| **ë¼ì´ë¸ŒëŸ¬ë¦¬ í¬ê¸°** | ğŸ“¦ 16.3 KB                                | ğŸš€ 6.7 KB                             |

---

## ğŸ“Œ Next.js í™˜ê²½ì—ì„œ React Queryë¥¼ ì„ íƒí•œ ì´ìœ 

Next.jsì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)**ê³¼ **ì •ì  ì‚¬ì´íŠ¸ ìƒì„±(SSG)**ì„ ì§€ì›í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ í™˜ê²½ì—ì„œ **React Queryê°€ SWRë³´ë‹¤ ë” ì í•©í–ˆë˜ ì´ìœ **ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

### SSR ì§€ì›ì´ ë” ë›°ì–´ë‚¨

- **React QueryëŠ” SSR í™˜ê²½ì—ì„œ ë¯¸ë¦¬ ë°ì´í„°ë¥¼ íŒ¨ì¹­í•˜ê³  ìºì‹±í•  ìˆ˜ ìˆë„ë¡ ê³µì‹ ì§€ì›**
- Next.jsì˜ `getServerSideProps`ì™€ ì—°ë™í•˜ì—¬ ì´ˆê¸° ë°ì´í„° ë¡œë”©ì„ ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥

```tsx
export async function getServerSideProps() {
  const queryClient = new QueryClient();

  await queryClient.prefetchQuery(['data'], async () => {
    const res = await fetch('https://api.example.com/data');
    return res.json();
  });

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  };
}
```

ğŸ’¡ **SWRë„ SSRì„ ì§€ì›í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, ê³µì‹ì ìœ¼ë¡œ SSRì„ ìœ„í•œ APIê°€ ë”°ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠìŒ**

---

### ë³€ì´(Mutation) ê¸°ëŠ¥ì´ ë” ê°•ë ¥í•¨

- **React QueryëŠ” `useMutation`ì„ ì œê³µí•˜ì—¬ ì„œë²„ ìƒíƒœë¥¼ ì‰½ê²Œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥**
- SWRì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `mutate()`ë¥¼ ì œê³µí•˜ì§€ë§Œ, ì—¬ëŸ¬ ê°œì˜ ìš”ì²­ì„ ë™ê¸°í™”í•˜ëŠ” ê¸°ëŠ¥ì€ ë¶€ì¡±í•¨

```tsx
const mutation = useMutation(newData => axios.post('/api/data', newData), {
  onSuccess: () => {
    queryClient.invalidateQueries(['data']);
  },
});
```

ğŸ’¡ **Next.js API ë¼ìš°íŠ¸ì™€ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ë°ì´í„° ë³€ê²½ í›„ ìë™ ì—…ë°ì´íŠ¸ê°€ í¸ë¦¬í•¨**

---

## âœ… ë§ˆë¬´ë¦¬

| ì„ íƒ ê¸°ì¤€          | React Query          | SWR                     |
|-------------------|----------------------|-------------------------|
| **SSR ì§€ì›**       | âœ… ê³µì‹ ì§€ì›           | â­• ë¯¸ì§€ì› (ì›Œí¬ì–´ë¼ìš´ë“œ í•„ìš”) |
| **ë³€ì´ (Mutation)** | âœ… ê°•ë ¥í•œ ê¸°ëŠ¥ ì œê³µ     | â­• ê¸°ë³¸ mutate()ë§Œ ì œê³µ       |
| **ìºì‹± & ìë™ ë™ê¸°í™”** | âœ… ìœ ìš©í•œ ì˜µì…˜ ì œê³µ     | âœ… Stale-While-Revalidate |
| **ê°œë°œì ë„êµ¬ ì§€ì›** | âœ… DevTools ì œê³µ       | âœ… DevTools ì œê³µ         |

**âœ”ï¸ ê²°ë¡ :**
**Next.jsì—ì„œ SSRê³¼ API ë³€ì´ë¥¼ ê³ ë ¤í•œë‹¤ë©´ React Queryê°€ ë” ì í•©**
**ê°„ë‹¨í•œ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë°ì´í„° íŒ¨ì¹­ì´ í•„ìš”í•˜ë‹¤ë©´ SWRë„ ì¢‹ì€ ì„ íƒ**

ğŸš€ **í”„ë¡œì íŠ¸ì˜ ìš”êµ¬ ì‚¬í•­ì— ë§ì¶° ì ì ˆí•œ ë°©ë²•ì„ ì„ íƒí•˜ì„¸ìš”!** ğŸ¯
